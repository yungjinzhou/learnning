## ironic调研





## 裸金属简介

裸金属（Bare Metal）指的是一种云计算服务形态，与传统的虚拟化服务相比，它不需要操作系统和虚拟化层，直接将物理服务器出租给用户，用户可以在这些服务器上自由安装操作系统、应用程序和其他软件。这种服务形态的优点在于，可以为用户提供更高的性能、更低的延迟和更大的定制化灵活性。同时，因为不需要虚拟化层的额外开销，裸金属的价格也相对较低。

裸金属通常由云服务提供商提供，用户可以通过云服务提供商的控制台或 API 创建、管理和监控裸金属实例。云服务提供商通常会提供一些预装好的操作系统镜像供用户选择，用户也可以自己上传操作系统镜像进行安装。用户需要管理和维护自己的操作系统和应用程序，并负责保障安全和可靠性。

裸金属可以广泛应用于需要高性能、低延迟、大规模定制化需求的场景，例如科学计算、机器学习、高性能数据库、游戏服务器等等。





## 裸金属基本架构了解



Ironic 是一个基于 OpenStack 的裸金属服务（Bare Metal Service），它提供了一种管理和自动化控制大规模裸机部署的方法，可用于私有云、公有云或混合多云环境中。Ironic 的架构主要包括以下几个核心组件：

1. API：提供 RESTful API 接口，用于与 Ironic 进行交互。
2. Conductor：负责与物理机进行交互，向物理机传递任务以及操作和监控其状态。
3. Database：存储 Ironic 管理的各种资源信息，例如节点信息、任务信息等等。
4. RPC：通过 RabbitMQ 或者 AMQP 等消息总线技术实现节点与Conductor之间的异步通信。
5. Drivers：驱动程序，用于与不同类型的硬件进行交互。

Ironic 的工作流程如下：

1. 创建一个节点（Node）。节点表示一个物理服务器，Ironic 会保存该节点的各种信息，例如 MAC 地址、IP 地址、硬件配置等。
2. 配置驱动程序（Driver）。 Ironic 支持多种驱动程序，可以根据需要选择适合的驱动程序来与设备交互。
3. 配置部署模板（Deploy Template）。根据需要选择适合的部署模板，定义如何在节点上安装和配置操作系统、应用程序等。
4. 执行任务（Task）。Ironic 通过任务（Task）来控制节点的状态，例如启动、关机、重启等等。任务可以是部署任务、管理任务或者自定义任务。
5. 监控状态（State Management）。Ironic 可以监控节点的各种状态，例如连接状态、硬件状态、软件状态、电源状态等等，并可以根据需要执行相应的操作和调整。

总体来说，Ironic 的架构是模块化和可插拔的，可以根据需要选择不同类型的驱动程序和部署模板，以满足不同场景下的裸机服务需求。





## pxe基本知识



PXE（Preboot eXecution Environment）是一种网络启动协议，它允许计算机通过网络从远程服务器加载操作系统。使用PXE协议可以使得计算机无需本地存储介质（例如硬盘、光驱等）即可启动操作系统，从而实现网络安装、网络瘦客户机、远程故障排除等功能。

在使用PXE协议进行网络启动时，计算机会首先发送DHCP请求到服务器，以获取IP地址等网络配置信息。然后，计算机会向指定的PXE服务器发送TFTP请求，在加载PXE引导程序之前，PXE服务器会为计算机提供必要的引导信息和配置文件，以便计算机获取并执行引导程序。PXE引导程序可以是操作系统中的boot loader，也可以是其他引导程序。引导程序将负责完成操作系统的加载和启动。

PXE协议主要包括以下几个核心组件：

1. DHCP服务器：提供DHCP服务，用于为计算机分配IP地址及其他网络配置信息。
2. TFTP服务器：提供TFTP服务，用于从远程服务器下载配置文件、引导程序等。
3. PXE服务器：提供PXE服务，用于向计算机提供引导程序、操作系统镜像等信息。
4. BIOS或UEFI：支持PXE协议的计算机硬件。

使用PXE协议可以大大简化操作系统部署过程，可以通过网络一次性部署多台计算机，并且在部署过程中可以进行自动化配置、软件安装等操作，提高了部署的效率和质量。





## ipmi基本知识



IPMI（Intelligent Platform Management Interface）智能平台管理接口，是一种标准化的系统管理接口，可以在操作系统未启动时对服务器进行远程管理和监控。通过IPMI，管理员可以远程开机、关机、重启、诊断、故障排除等操作，还可以监控硬件状态、传感器数据等。

具体来说，IPMI包括以下几个核心组件：

1. Baseboard Management Controller（BMC）：这是一种独立的处理器，通常嵌入服务器主板上，它提供了IPMI接口，并连接各种传感器、LED指示灯、电源等硬件设备，可以对这些设备进行远程控制和监控。
2. IPMI驱动程序：这是一种软件，用于与BMC进行通信，以便管理员可以通过网络使用IPMI协议进行远程管理和监控。
3. IPMI工具：这是一组命令行或图形化的工具，用于对IPMI进行配置、控制和监控。

通过IPMI，管理员可以直接访问服务器硬件，无需通过操作系统而导致的性能损失和安全风险，可以实现更加可靠和高效的服务器管理和监控。同时，IPMI还支持远程KVM（Keyboard-Video-Mouse）控制，使管理员可以通过网络远程访问服务器控制台，像本地一样进行操作。





