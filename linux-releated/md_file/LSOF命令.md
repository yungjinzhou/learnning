## LSOF命令

##### 常用命令

lsof -i:80 //显示所有打开80端口的进程
lsof -i //显示所有打开的端口
lsof -p 30297 //显示那些文件被pid为30297的进程打开
lsof -u1000 //查看uid是100的用户的进程的文件使用情况
lsof `which httpd` //那个进程在使用apache的可执行文件
lsof /etc/passwd //那个进程在占用/etc/passwd
lsof /dev/hda6 //那个进程在占用hda6
lsof /dev/cdrom //那个进程在占用光驱
lsof -c sendmail //查看sendmail进程的文件使用情况

##### lsof输出各列信息的意义如下：
- COMMAND：进程的名称 PID：进程标识符
- USER：进程所有者
- FD：文件描述符，应用程序通过文件描述符识别该文件。如cwd、txt等 
  - cwd 值表示应用程序的当前工作目录，这是该应用程序启动的目录
  - ,txt 类型的文件是程序代码，如应用程序二进制文件本身或共享库
  - 数值表示应用程序的文件描述符，这是打开该文件时返回的一个整数
  - u 表示该文件被打开并处于读取/写入模式，而不是只读 ® 或只写 (w) 模式。
  - 大写 的W 表示该应用程序具有对整个文件的写锁。
  - 初始打开每个应用程序时，都具有三个文件描述符，从 0 到 2，分别表示标准输入、输出和错误流。所以大多数应用程序所打开的文件的 FD 都是从 3 开始。
- TYPE：文件类型，如DIR、REG等
  - 文件和目录分别称为 REG 和 DIR。而CHR 和 BLK，分别表示字符和块设备；或者 UNIX、FIFO 和 IPv4，分别表示 UNIX 域套接字、先进先出 (FIFO) 队列和网际协议 (IP) 套接字 
  - DEVICE：指定磁盘的名称
- SIZE：文件的大小
- NODE：索引节点（文件在磁盘上的标识）
- NAME：打开文件的确切名称